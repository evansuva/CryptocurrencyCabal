<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <title>
    Class 23: Before Bitcoin // Cryptocurrency Cabal
  </title>

  <link href="//gmpg.org/xfn/11" rel="profile">
<meta http-equiv="content-type" content="text/html; charset=utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="">
<meta name="generator" content="Hugo 0.17" />


  <meta property="og:title" content="Class 23: Before Bitcoin" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />
<meta property="og:url" content="https://bitcoin-class.org/classes/class23/" />


  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/base-min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/pure-min.css">
  
  
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/grids-responsive-min.css">
  
  

  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  <link href='//fonts.googleapis.com/css?family=Open+Sans:400,400italic,200,100,700,300,500,600,800' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Special+Elite' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/rotunda.png">
  <link rel="shortcut icon" href="/rotunda.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Cryptocurrency Cabal" />

    
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/tomorrow-night-bright.min.css">
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


  <link rel="stylesheet" href="https://bitcoin-class.org/css/cabal.css">

  
 
  
<script>
function showText(show,hide)
{
    document.getElementById(show).className = "show";
    document.getElementById(hide).className = "hide";
}
</script>
 

  

  
</head>

<body>
	<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
  <div class="header">
    


    <a href="https://bitcoin-class.org"><h1 class="brand-title">Crypto Currency Cabal</h1></a>
    <h2 class="brand-tagline">University of Virginia
    <br>cs4501 Fall 2015
    </h2>

    <nav class="nav">
      <ul class="nav-list">
        
          <li class="nav-item">
          
              <a href=""></a>
          
          </li>
        
          <li class="nav-item">
          
              <a href="/syllabus/">Syllabus</a>
          
          </li>
        
      </ul>
    </nav>
    
    <b><A href="/allclasses">Classes</a></b>
    <p></p>

    <b><a href="/ps/">Assignments</a></b>
    <nav class="nav">
      <ul class="nav-list">
        
          <li class="nav-item">
          
              <a href="/ps/ps1/">PS1: Bitcoin Transactions</a>
          
          </li>
        
          <li class="nav-item">
          
              <a href="/ps/ps2/">PS2: The Blockchain</a>
          
          </li>
        
          <li class="nav-item">
          
              <a href="/ps/ps3/">PS3: CSI: Blockchain</a>
          
          </li>
        
          <li class="nav-item">
          
              <a href="/project-reports/">Project Reports</a>
          
          </li>
        
      </ul>
    </nav>
    <p></p>

    <p><Br></br><br></br></p>
    <a href="/0/"><font color="#aaa">Spring 2015 Course</font></a>

    

  </div>
</div>

	
    <div class="content pure-u-1 pure-u-md-3-4">
		<a name="top"></a>
		

    <section id="main">
            
            	<span class="post-date">
                	16 Nov 2015
            	</span>
            	
            
                <div class="phighlight">
                     <a href="/class23.pdf">PDF for printing</a>
                </div>
            

            
            	
            

			
			

			

			

            <h2 id="schedule">Schedule</h2>

<p><strong>Starting Wednesday and every following class</strong>: Be prepared to give an
  elevator pitch for your project.  Your pitch should be no more than 2
  minutes long.  You may use visuals as long as you can obtain them by
  (quickly) entering a URL in a web browser.  Your pitch should get
  across in a convincing and engaging way:</p>

<ul>
<li>The purpose of your project (what problem are you solving)</li>
<li>What you are actually doing</li>
<li>Why we should care</li>
</ul>

<p><strong>Monday, 23 November</strong> (8:29pm): Project Progress Reports.  Send an
  email to
  <a href="mailto:ccc-staff@cs.virginia.edu">ccc-staff@cs.virginia.edu</a>, cc-ing
  all members of your project team.  The email should have a subject
  line, <code>Project:</code><em>Title</em>, with your project title.  Its body should contain at least this information:</p>

<ol>
<li><p>A link to the website for your project (this could be a github page
if you want).  That site should have a front page that describes your
project, lists the team members, and provides more information about
your project.</p></li>

<li><p>A short paragraph explaining how your project has changed since the
preliminary proposal email.  This should explain if the goals of your
project have changed and why.</p></li>

<li><p>A description of what progress you have made on your project.</p></li>

<li><p>A description of what you plan to do to complete your project, and
your plans for doing this.  If you have a multi-person team, this should
include an explanation of how your team is working together and who is
doing what.</p></li>

<li><p>(optional) Any questions you have for us.</p></li>
</ol>

<h3 id="addendum">Addendum</h3>

<p>Vignesh raised a really good point about Chaum&rsquo;s scheme which I
misunderstood in class until he clarified it after, so I&rsquo;m posting an
explanation here.</p>

<p>The issue he noticed is that if the bank knows all the possible <em>I</em>
values (all the customer identities), and receives one of the identity
split perimages, e.g., <span class="math"><em>I</em><sub>1L</sub></span>, then
the bank can search through all the identities to find an <span
class="math"><em>I</em><sub>1R</sub></span> such that <span
class="math"><em>h</em>(<em>I</em><sub>1R</sub>)</span> matches the hash value.  This
is done by just xor-ing all the <em>I</em> values with <span
class="math"><em>I</em><sub>1L</sub></span> to find a guess for <span
class="math"><em>I</em><sub>1R</sub></span>, and then computing the hash to
check if it is the right one.  As I presented the scheme, this would be
a big vulnerability!  It violates the desired property that the bill
spender&rsquo;s anonymity is protected (even from the bank) unless she
attempts to spend the bill twice.</p>

<p>To defeat this, we need to ensure that the set of possible <em>I</em> values is
not known (even to the bank).  One way to do this would be to add some
randomness in the <em>I</em> values used in the generated banknotes used in the
cut-and-choose for the blind signatures.  Each note with have a
different <em>I</em>, but one the bank can verify is still the right account
owner.  I&rsquo;ll leave the details of how to do this as a challenge problem.</p>

<p></p>

<p><center>
<iframe src="//www.slideshare.net/slideshow/embed_code/key/iyNnco2LsnAF74" width="625" height="400" frameborder="2" marginwidth="0" marginheight="0" scrolling="no"> </iframe>
   <div class="caption">
<a href="/classes/class23-post.pptx">Download slides (with annotations)</a>
   </div>
</center></p>

<h2 id="notes">Notes</h2>

<p><a href="https://www.fdic.gov/bank/individual/failed/hightrust.html">High Trust Bank</a> must be trusty!</p>

<p>David Chaum, Amos Fiat, and Moni Naor.  <a href="http://bitcoin-class.org/classes/ecash.pdf"><em>Untraceable Electronic
Cash</em></a>.  CRYPTO 1988.</p>

<p><strong>Simple RSA Signatures</strong><br />
Public Key = <span class="math">(<em>e</em>, <em>n</em>)</span>
Private Key = <span class="math"><em>d</em></span></p>

<p>Identity: <span class="math"><em>M</em><sup><em>de</em></sup> = <em>M</em> mod <em>n</em></span></p>

<p><span class="math">Sign(<em>m</em>) = <em>m</em><sup><em>d</em></sup> mod <em>n</em></span></p>

<p><strong>Blind Signatures</strong>
Alice picks random <span class="math"><em>k</em></span> in <span class="math">[1, <em>n</em>)</span><br />
<span class="math"><em>t</em> = <em>mk</em><sup><em>e</em></sup> mod <em>n</em></span><br />
Sends <span class="math"><em>t</em></span> to signer.</p>

<p>Signer returns <span class="math"><em>t</em><sup><em>d</em></sub></span>.</p>

<p>Signer returns <span class="math"><em>t</em><sup><em>d</em></sup></span>.</p>

<p><span class="math"><em>t</em><sup><em>d</em></sup> = (<em>mk</em><sup><em>e</em></sup> mod <em>n</em>)<sup><em>d</em></sup> mod <em>n</em></span><br />
&nbsp;&nbsp;&nbsp; <span class="math">= <em>m</em><sup><em>d</em></sup><em>k</em><sup><em>ed</em></sup> mod <em>n</em></span><br />
&nbsp;&nbsp;&nbsp; <span class="math">= <em>m</em><sup><em>d</em></sup><em>k</em> mod <em>n</em></span></p>

<p>Dividing by <span class="math"><em>k</em></span> gives <span class="math">Sign(<em>m</em>) = <em>m</em><sup><em>d</em></sup> mod <em>n</em></span>.</p>

<p>What should a signer know before signing a random-looking string?
<div class="gap"></div></p>

<p><strong>Cut-and-Choose</strong></p>

<p>Suppose Alice sends 256 copies and the Bank checks 255 of them.  What is the probability Alice can cheat without getting caught?
<div class="gap"></div></p>

<p>What should the maximimum bill size be to prevent cheating?
<div class="gap"></div></p>

<h3 id="identity-strings">Identity Strings</h3>

<p><em>I</em> = &ldquo;alice@alice.org&rdquo;</p>

<p><span class="math"><em>M</em><sub><em>i</em></sub></span> = &ldquo;Bill #[r<sub>i</sub>] : Bear’s Turns Bank owes the holder of this message $100.&rdquo;<br />
&nbsp;&nbsp;&nbsp; + identity strings:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="math"><em>I</em><sub>1</sub> = (<em>h</em>(<em>I</em><sub>1L</sub>), <em>h</em>(<em>I</em><sub>1R</sub>)), &hellip;, <em>I</em><sub><em>n</em></sub> = (<em>h</em>(<em>I</em><sub>nL</sub>), <em>h</em>(<em>I</em><sub>nR</sub>))</span><br />
&nbsp;&nbsp;&nbsp; where <span class="math"><em>h</em></span> is a one-way hash function and each <span class="math"><em>I</em><sub>iL</sub> &oplus; <em>I</em><sub>iR</sub> = <em>I</em></span> (but <span class="math"><em>I</em><sub>iL</sub> is choosen randomly).</p>

<p>To spend a bill, the reciever chooses either L or R for each pair for spender to open.</p>

<p>What is the probability Alice can spend a bill twice without revealing her identity?
<div class="gap"></div></p>

<p><a href="http://globalcryptonews.com/before-bitcoin-the-rise-and-fall-of-digicash/">Before Bitcoin: The Rise and Fall of DigiCash</a></p>

<blockquote>
<p><em>By all accounts Chaum was a charismatic leader with an interesting management style, but he refused to compromise his artistic vision in any area against the best advice of his employees. He was suspicious of everyone and &lsquo;paranoid&rsquo; with a habit of suddenly changing his mind without warning. At one time, Microsoft had offered DigiCash $180 million to allow them to preinstall Ecash software on Windows computers and the deal was on the verge of completion, but Chaum suddenly decided that his product was worth more and the deal collapsed. If the deal had gone through, cryptocurrency would now be as ubiquitous as Internet Explorer.</em></p>
</blockquote>

<h2 id="links">Links</h2>

<p>&ldquo;Still think you’re anonymous on the Dark Web?&rdquo;, <a href="https://twitter.com/NCA_UK/status/530740716134490112">NCA_UK&rsquo;s tweet</a>, 7 November 2014</p>

<p>Sambuddho Chakravarty, Marco V. Barbera, Georgios Portokalidis, Michalis Polychronakis, and Angelos D. Keromytis. <a href="http://www3.cs.stonybrook.edu/~mikepo/papers/tor-netflow.pam14.pdf"><em>On the Effectiveness of Traffic Analysis Against Anonymity Networks Using Flow Records</em></a>. <em>Passive and Active Measurement Conference</em>, March 2014.</p>

<p><a href="https://blog.torproject.org/blog/tor-security-advisory-relay-early-traffic-confirmation-attack"><em>Tor security advisory: &ldquo;relay early&rdquo; traffic confirmation attack</em></a></p>
	
			

			

			
				<div class="paging">
					<span class="paging-label">More Reading</span>
					
					<div class="paging-newer">
						<span class="dark-red">Newer</span><span class="decorative-marker">//</span>
						<a class="paging-link" href="/classes/class24/">Class 24: Altcoins</a>
		            </div>
		            

					
					<div class="paging-older">
						<span class="dark-red">Older</span><span class="decorative-marker">//</span>
			            <a class="paging-link" href="/announcements/project-ideas/">Project Ideas</a>
		            </div>
		            
	            </div>
            
          </section>
          
          	<div id="disqus_thread"></div>
<script type="text/javascript">
 
   var disqus_url = '\/classes\/class23\/';
   var disqus_shortname = 'davidevans'; 

    
   (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] ||  document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view
    the <a href="http://disqus.com/?ref_noscript">comments powered by
    Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">Comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

          
        
      <div class="footer">
<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>
	<hr class="thin" />

   <div class="funding">
University of Virginia<br>
cs4501: Introduction to Cryptocurrency<br>
Fall 2015
   </div>

	<p></p>
</div>

    </div>
  </div>
	

	

  
</body>
</html>
